Day 4-Terraform Modules & Best Practices 
________________________________________
ğŸ“¦ Terraform Modules á€†á€­á€¯á€á€¬á€˜á€¬á€œá€²?
________________________________
Module á€†á€­á€¯á€á€¬á€€á€á€±á€¬á€· Terraform á€™á€¾á€¬ reusable block of code á€á€…á€ºá€á€¯á€•á€«á‹
á€á€°á€·á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€–á€­á€¯á€·á€¡á€á€½á€€á€º á€á€®á€¸á€á€”á€·á€º folder á€á€…á€ºá€á€¯á€–á€”á€ºá€á€®á€¸á€•á€¼á€®á€¸ á€á€°á€·á€‘á€²á€™á€¾á€¬ .tf á€–á€­á€¯á€„á€ºá€á€½á€±á€›á€¾á€­á€•á€«á€á€šá€ºá‹
Module = inputs (variables) + resources + outputs

ğŸ§± Why Use Modules?
__________________
âœ… Code á€€á€­á€¯ Reuse á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€á€šá€º
âœ… Organization á€œá€¯á€•á€ºá€‘á€¬á€¸á€œá€­á€¯á€· á€•á€­á€¯á€¡á€†á€„á€ºá€•á€¼á€±á€á€šá€º
âœ… Team collaboration á€™á€¾á€¬ á€¡á€‘á€±á€¬á€€á€ºá€¡á€€á€°á€–á€¼á€…á€ºá€á€šá€º
âœ… Maintenance á€œá€½á€šá€ºá€á€šá€º

ğŸ›  Module Folder Structure
__________________________
terraform-demo/
â”œâ”€â”€ main.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ outputs.tf
â””â”€â”€ modules/
    â””â”€â”€ s3_bucket/
        â”œâ”€â”€ main.tf
        â”œâ”€â”€ variables.tf
        â””â”€â”€ outputs.tf
        
ğŸ“˜ Step-by-Step - Module á€á€…á€ºá€á€¯á€–á€”á€ºá€á€®á€¸á€á€¼á€„á€ºá€¸
____________________________________
âœ… 1. Module á€–á€”á€ºá€á€®á€¸á€á€¼á€„á€ºá€¸
ğŸ“ modules/s3_bucket/main.tf

resource "aws_s3_bucket" "this" {
  bucket = var.bucket_name
}

ğŸ“ modules/s3_bucket/variables.tf

variable "bucket_name" {
  description = "S3 bucket name"
  type        = string
}

ğŸ“ modules/s3_bucket/outputs.tf

output "bucket_name" {
  value = aws_s3_bucket.this.id
}

âœ… 2. Main Configuration á€™á€¾á€¬ Module á€€á€­á€¯ á€á€±á€«á€ºá€á€¯á€¶á€¸á€á€¼á€„á€ºá€¸
ğŸ“ main.tf

provider "aws" {
  region = "us-east-1"
}

module "my_bucket" {
  source      = "./modules/s3_bucket"
  bucket_name = "my-terraform-module-bucket"
}

ğŸ“ outputs.tf

output "my_bucket_name" {
  value = module.my_bucket.bucket_name
}

ğŸ’¡ Then Run:

terraform init
terraform plan
terraform apply

âœ… Best Practices for Terraform
_______________________________
Best Practice				Description
________________________________________________________________________________________________
ğŸ” Use Modules				Reuse resources across environments
ğŸ“ Separate files			Use main.tf, variables.tf, outputs.tf separately
ğŸ” Donâ€™t commit secrets		.tfstate or *.auto.tfvars with secrets shouldnâ€™t be pushed to Git
ğŸ§ª Use terraform plan			Always plan before apply
ğŸ“¦ Use Remote State			For team collaboration (S3 + DynamoDB for locking)
ğŸ“„ Write meaningful names		Use clear variable and module names
ğŸ“š Document				Add comments, descriptions for variables and outputs

âœ… Example Use Case
_________________
á€™á€­á€™á€­á€™á€¾á€¬ environments (dev, prod, staging) áƒ á€á€¯á€›á€¾á€­á€á€šá€ºá€†á€­á€¯á€•á€«á€…á€­á€¯á€·á‹ Module á€á€…á€ºá€á€¯á€–á€”á€ºá€á€®á€¸á€•á€¼á€®á€¸ á€¡á€²á€· environments áƒ á€á€¯á€¡á€á€½á€€á€º module á€á€…á€ºá€á€¯á€…á€®á€á€¯á€¶á€¸á€œá€­á€¯á€·á€›á€á€šá€ºá‹

module "dev_bucket" {
  source      = "./modules/s3_bucket"
  bucket_name = "dev-bucket"
}

module "prod_bucket" {
  source      = "./modules/s3_bucket"
  bucket_name = "prod-bucket"
}

ğŸ“Œ Summary
__________

âœ… Modules help reuse Terraform code
âœ… Keep code modular and clean
âœ… Follow best practices like separating files and using remote state
âœ… Output useful resource info for easy access

========================================================================================================//

